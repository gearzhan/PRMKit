# PRMKit - é¡¹ç›®èµ„æºç®¡ç†å·¥å…·åŒ…

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

PRMKitæ˜¯ä¸€ä¸ªä¸“ä¸šçš„é¡¹ç›®èµ„æºç®¡ç†å·¥å…·åŒ…ï¼Œä¸»è¦ç”¨äºä¼ä¸šå†…éƒ¨çš„å·¥æ—¶ç®¡ç†å’Œé¡¹ç›®èµ„æºè·Ÿè¸ªã€‚ç³»ç»Ÿæ”¯æŒå‘˜å·¥å·¥æ—¶å½•å…¥ï¼ˆ15åˆ†é’Ÿå¢é‡è‡ªåŠ¨è®¡ç®—ï¼‰ã€å¤šçº§å®¡æ‰¹æµç¨‹ã€å®æ—¶æŠ¥è¡¨åˆ†æç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œå¸®åŠ©ä¼ä¸šæé«˜é¡¹ç›®ç®¡ç†æ•ˆç‡å’Œèµ„æºåˆ©ç”¨ç‡ã€‚

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ• **å·¥æ—¶ç®¡ç†**: 15åˆ†é’Ÿå¢é‡çš„ç²¾ç¡®å·¥æ—¶å½•å…¥å’Œè®¡ç®— âœ…
- ğŸ” **æœç´¢åŠŸèƒ½**: æ”¯æŒæŒ‰é¡¹ç›®åç§°ã€ä»£ç ã€æè¿°è¿›è¡Œå®æ—¶æœç´¢ âœ…
- ğŸ‘¥ **å¤šçº§æƒé™**: æ”¯æŒ3çº§ç”¨æˆ·è§’è‰²æƒé™ç®¡ç† âœ…
- ğŸ“Š **æ•°æ®åˆ†æ**: å®æ—¶å·¥æ—¶ç»Ÿè®¡å’ŒRechartsé¥¼å›¾å¯è§†åŒ– âœ…
- ğŸ“ˆ **Dashboard**: é¡¹ç›®å·¥æ—¶åˆ†å¸ƒå›¾è¡¨ï¼Œæ”¯æŒæ—¶é—´èŒƒå›´ç­›é€‰ âœ…
- ğŸ” **å®‰å…¨è®¤è¯**: JWTèº«ä»½éªŒè¯å’Œè§’è‰²æƒé™æ§åˆ¶ âœ…
- ğŸ“± **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯è®¿é—® âœ…

### ç”¨æˆ·è§’è‰²
- **Level 1 Admin** (DIRECTOR/ASSOCIATE/OFFICE_ADMIN): ç³»ç»Ÿå…¨å±€ç®¡ç†æƒé™
- **Level 2 Manager** (PROJECT_MANAGER): å·¥æ—¶å®¡æ‰¹å’Œå›¢é˜Ÿç®¡ç†æƒé™
- **Level 3 Worker** (JUNIOR_ARCHITECT/ARCHITECT): ä¸ªäººå·¥æ—¶å½•å…¥æƒé™

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **React 18** + **TypeScript** - ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·
- **Ant Design 5.26.7** - ä¼ä¸šçº§UIç»„ä»¶åº“
- **TailwindCSS 3** - åŸå­åŒ–CSSæ¡†æ¶
- **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **React Router** - å‰ç«¯è·¯ç”±ç®¡ç†
- **Axios** - HTTPå®¢æˆ·ç«¯
- **Recharts** - ç°ä»£åŒ–æ•°æ®å¯è§†åŒ–åº“
- **å®æ—¶æœç´¢** - ä¼˜åŒ–çš„æœç´¢ä½“éªŒ

### åç«¯æŠ€æœ¯
- **Node.js** + **Express 4** - æœåŠ¡ç«¯æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **Prisma 5.x** - ç°ä»£åŒ–ORM
- **SQLite** - è½»é‡çº§æ•°æ®åº“
- **JWT** + **bcryptjs** - èº«ä»½éªŒè¯å’Œå¯†ç åŠ å¯†

### å¼€å‘å·¥å…·
- **ESLint** + **Prettier** - ä»£ç è´¨é‡æ£€æŸ¥å’Œæ ¼å¼åŒ–
- **Nodemon** - å¼€å‘ç¯å¢ƒçƒ­é‡è½½
- **Concurrently** - å¹¶å‘è¿è¡Œå‰åç«¯æœåŠ¡

## ğŸš€ ç¯å¢ƒé…ç½®

### ç³»ç»Ÿè¦æ±‚
- Node.js >= 18.0.0
- npm >= 8.0.0
- æ“ä½œç³»ç»Ÿ: macOS, Windows, Linux

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd PRMKit
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **ç¯å¢ƒå˜é‡é…ç½®**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡
vim .env
```

ç¯å¢ƒå˜é‡è¯´æ˜ï¼š
```env
# æ•°æ®åº“é…ç½®
DATABASE_URL="file:./dev.db"

# JWTé…ç½®
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="24h"

# æœåŠ¡å™¨é…ç½®
PORT=3001
NODE_ENV=development

# CORSé…ç½®
CLIENT_URL="http://localhost:5173"
```

4. **æ•°æ®åº“åˆå§‹åŒ–**
```bash
# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npm run db:generate

# æ¨é€æ•°æ®åº“ç»“æ„
npm run db:push

# å¡«å……æµ‹è¯•æ•°æ®
npm run db:seed
```

## ğŸ§ª æµ‹è¯•ç¯å¢ƒæ“ä½œ

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

**æ–¹å¼ä¸€ï¼šåŒæ—¶å¯åŠ¨å‰åç«¯æœåŠ¡**
```bash
npm run dev
```
è¿™å°†å¹¶å‘å¯åŠ¨ï¼š
- å‰ç«¯æœåŠ¡: http://localhost:5173
- åç«¯API: http://localhost:3001

**æ–¹å¼äºŒï¼šåˆ†åˆ«å¯åŠ¨æœåŠ¡**
```bash
# å¯åŠ¨å‰ç«¯æœåŠ¡
npm run client:dev

# å¯åŠ¨åç«¯æœåŠ¡ï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰
npm run server:dev
```

### åœæ­¢å¼€å‘ç¯å¢ƒ

**åœæ­¢æ‰€æœ‰æœåŠ¡**
```bash
# åœ¨è¿è¡Œnpm run devçš„ç»ˆç«¯ä¸­æŒ‰ Ctrl+C
# æˆ–è€…æ‰¾åˆ°å¯¹åº”è¿›ç¨‹å¹¶ç»ˆæ­¢
pkill -f "npm run dev"
```

**åˆ†åˆ«åœæ­¢æœåŠ¡**
```bash
# åœ¨å¯¹åº”ç»ˆç«¯ä¸­æŒ‰ Ctrl+C
# æˆ–è€…ç»ˆæ­¢ç‰¹å®šç«¯å£è¿›ç¨‹
lsof -ti:5173 | xargs kill  # åœæ­¢å‰ç«¯
lsof -ti:3001 | xargs kill  # åœæ­¢åç«¯
```

### é‡ç½®å¼€å‘ç¯å¢ƒ

**é‡ç½®æ•°æ®åº“**
```bash
npm run db:reset
```

**æ¸…ç†å¹¶é‡æ–°å®‰è£…**
```bash
rm -rf node_modules package-lock.json
npm install
npm run db:reset
```

## ğŸ› è°ƒè¯•æŒ‡å—

### å¸¸è§é—®é¢˜æ’æŸ¥

#### 1. ç«¯å£å ç”¨é—®é¢˜
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :5173  # å‰ç«¯ç«¯å£
lsof -i :3001  # åç«¯ç«¯å£

# ç»ˆæ­¢å ç”¨è¿›ç¨‹
kill -9 <PID>
```

#### 2. æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶
ls -la prisma/dev.db

# é‡æ–°ç”Ÿæˆæ•°æ®åº“
npm run db:push
npm run db:seed
```

#### 3. ä¾èµ–å®‰è£…é—®é¢˜
```bash
# æ¸…ç†ç¼“å­˜
npm cache clean --force

# åˆ é™¤node_modulesé‡æ–°å®‰è£…
rm -rf node_modules
npm install
```

#### 4. TypeScriptç±»å‹é”™è¯¯
```bash
# è¿è¡Œç±»å‹æ£€æŸ¥
npm run check

# ç”ŸæˆPrismaç±»å‹
npm run db:generate
```

### è°ƒè¯•å·¥å…·å’Œæ–¹æ³•

#### å‰ç«¯è°ƒè¯•
1. **æµè§ˆå™¨å¼€å‘è€…å·¥å…·**
   - Networké¢æ¿ï¼šæ£€æŸ¥APIè¯·æ±‚
   - Consoleé¢æ¿ï¼šæŸ¥çœ‹é”™è¯¯æ—¥å¿—
   - React DevToolsï¼šç»„ä»¶çŠ¶æ€è°ƒè¯•

2. **Viteå¼€å‘æœåŠ¡å™¨**
   - çƒ­é‡è½½ï¼šä»£ç ä¿®æ”¹è‡ªåŠ¨åˆ·æ–°
   - é”™è¯¯è¦†ç›–ï¼šç¼–è¯‘é”™è¯¯ç›´æ¥æ˜¾ç¤ºåœ¨é¡µé¢

#### åç«¯è°ƒè¯•
1. **æ—¥å¿—ç³»ç»Ÿ**
   ```bash
   # æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
   tail -f logs/combined.log
   tail -f logs/error.log
   ```

2. **APIæµ‹è¯•**
   ```bash
   # ä½¿ç”¨curlæµ‹è¯•API
   curl -X POST http://localhost:3001/api/auth/login \
     -H "Content-Type: application/json" \
     -d '{"employeeId":"OFFICE001","password":"admin123"}'
   ```

3. **æ•°æ®åº“è°ƒè¯•**
   ```bash
   # ä½¿ç”¨Prisma Studio
   npx prisma studio
   ```

#### æ€§èƒ½è°ƒè¯•
1. **å‰ç«¯æ€§èƒ½**
   - React Profilerï¼šç»„ä»¶æ¸²æŸ“æ€§èƒ½
   - Lighthouseï¼šé¡µé¢æ€§èƒ½è¯„ä¼°

2. **åç«¯æ€§èƒ½**
   - å“åº”æ—¶é—´ç›‘æ§
   - æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–

### é”™è¯¯ä»£ç å¯¹ç…§

| é”™è¯¯ä»£ç  | æè¿° | è§£å†³æ–¹æ¡ˆ |
|---------|------|----------|
| EADDRINUSE | ç«¯å£è¢«å ç”¨ | æ›´æ¢ç«¯å£æˆ–ç»ˆæ­¢å ç”¨è¿›ç¨‹ |
| ECONNREFUSED | æ•°æ®åº“è¿æ¥å¤±è´¥ | æ£€æŸ¥æ•°æ®åº“é…ç½®å’Œæ–‡ä»¶æƒé™ |
| JWT_INVALID | JWTä»¤ç‰Œæ— æ•ˆ | æ£€æŸ¥JWT_SECRETé…ç½® |
| PRISMA_ERROR | æ•°æ®åº“æ“ä½œé”™è¯¯ | æ£€æŸ¥æ•°æ®æ¨¡å‹å’ŒæŸ¥è¯¢è¯­å¥ |

## ğŸ“Š é¡¹ç›®çŠ¶æ€

âœ… **æ ¸å¿ƒåŠŸèƒ½å®Œæˆ** - ä¸»è¦åŠŸèƒ½æ¨¡å—å·²å®ç°å¹¶æµ‹è¯•é€šè¿‡

### å·²å®ŒæˆåŠŸèƒ½
- âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿ (JWT + è§’è‰²æƒé™)
- âœ… å®Œæ•´å·¥æ—¶ç®¡ç† (å½•å…¥ã€ç¼–è¾‘ã€åˆ é™¤ã€çŠ¶æ€ç®¡ç†)
- âœ… å®æ—¶æœç´¢åŠŸèƒ½ (é¡¹ç›®åç§°ã€ä»£ç ã€æè¿°)
- âœ… Dashboardç»Ÿè®¡å›¾è¡¨ (Rechartsé¥¼å›¾)
- âœ… é¡¹ç›®å’Œå‘˜å·¥ç®¡ç† (CRUDæ“ä½œ)
- âœ… é˜¶æ®µæ¨¡æ¿ç®¡ç†
- âœ… æ•°æ®åº“ä¼˜åŒ– (SQLiteå…¼å®¹)
- âœ… å“åº”å¼UIè®¾è®¡

### å¾…ä¼˜åŒ–åŠŸèƒ½
- ğŸ”„ é«˜çº§ç»Ÿè®¡æŠ¥è¡¨
- ğŸ”„ å¯¼å…¥/å¯¼å‡º time sheets
- ğŸ”„ å®¡æ‰¹æµç¨‹
- ğŸ”„ ç§»åŠ¨ç«¯ä¼˜åŒ–
- ğŸ”„ æ€§èƒ½ç›‘æ§

## ğŸ“š é¡¹ç›®ç»“æ„

```
PRMKit/
â”œâ”€â”€ api/                    # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ routes/            # APIè·¯ç”±
â”‚   â”œâ”€â”€ lib/               # å·¥å…·åº“
â”‚   â””â”€â”€ app.ts             # Expressåº”ç”¨
â”œâ”€â”€ src/                   # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ components/        # Reactç»„ä»¶
â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ lib/              # å·¥å…·åº“
â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ hooks/            # è‡ªå®šä¹‰Hook
â”œâ”€â”€ prisma/               # æ•°æ®åº“
â”‚   â”œâ”€â”€ schema.prisma     # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ seed.ts           # æµ‹è¯•æ•°æ®
â”œâ”€â”€ public/               # é™æ€èµ„æº
â””â”€â”€ logs/                 # æ—¥å¿—æ–‡ä»¶
```

## ğŸ”— ç›¸å…³é“¾æ¥

- [äº§å“éœ€æ±‚æ–‡æ¡£](.trae/documents/PRMKitäº§å“éœ€æ±‚æ–‡æ¡£.md)
- [æŠ€æœ¯æ¶æ„æ–‡æ¡£](.trae/documents/PRMKitæŠ€æœ¯æ¶æ„æ–‡æ¡£.md)
- [APIæ–‡æ¡£](http://localhost:3001/api-docs) (å¼€å‘ç¯å¢ƒ)
- [Prismaæ–‡æ¡£](https://www.prisma.io/docs)
- [Ant Designæ–‡æ¡£](https://ant.design/docs/react/introduce-cn)


## ğŸ“ å¼€å‘è§„èŒƒ

- ä»£ç æäº¤å‰è¿è¡Œ `npm run check` è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ªESLintè§„åˆ™ï¼Œä¿æŒä»£ç é£æ ¼ä¸€è‡´
- ç»„ä»¶æ–‡ä»¶ä½¿ç”¨è‹±æ–‡å‘½åï¼Œæ³¨é‡Šä½¿ç”¨ä¸­æ–‡
- APIæ¥å£éµå¾ªRESTfulè®¾è®¡è§„èŒƒ
- æ•°æ®åº“æ“ä½œä½¿ç”¨Prisma ORM

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚
